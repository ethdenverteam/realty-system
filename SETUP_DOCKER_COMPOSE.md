# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ LOGS_DOWNLOAD_TOKEN –≤ docker-compose.yml

## –ì–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è docker-compose.yml

–§–∞–π–ª `docker-compose.yml` –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ **–∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞** –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:
```
~/realty-system/docker-compose.yml
```

## –ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å LOGS_DOWNLOAD_TOKEN

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ .env —Ñ–∞–π–ª (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

1. –î–æ–±–∞–≤—å—Ç–µ –≤ `.env` —Ñ–∞–π–ª –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:
```bash
LOGS_DOWNLOAD_TOKEN=666_log_download_passkey_666
```

2. –í `docker-compose.yml` —É–∂–µ –¥–æ–±–∞–≤–ª–µ–Ω–∞ —Å—Ç—Ä–æ–∫–∞:
```yaml
- LOGS_DOWNLOAD_TOKEN=${LOGS_DOWNLOAD_TOKEN}
```

3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã:
```bash
docker-compose down
docker-compose up -d
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ù–∞–ø—Ä—è–º—É—é –≤ docker-compose.yml

–ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ —É–∫–∞–∑–∞—Ç—å –Ω–∞–ø—Ä—è–º—É—é (–Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è production):

```yaml
environment:
  - LOGS_DOWNLOAD_TOKEN=666_log_download_passkey_666
```

## –ü—Ä–æ–≤–µ—Ä–∫–∞

–ü–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –µ—Å—Ç—å –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ
docker exec realty_web env | grep LOGS_DOWNLOAD_TOKEN
```

–î–æ–ª–∂–Ω–æ –≤—ã–≤–µ—Å—Ç–∏:
```
LOGS_DOWNLOAD_TOKEN=666_log_download_passkey_666
```

## –í–∞–∂–Ω–æ!

**–ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è docker-compose.yml –∏–ª–∏ .env –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã:**

```bash
cd ~/realty-system
docker-compose down
docker-compose up -d
```

–ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `deploy.sh` –∫–æ—Ç–æ—Ä—ã–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã.

## –¢–µ–∫—É—â–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

–í `docker-compose.yml` –¥–ª—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ `web` —É–∂–µ –¥–æ–±–∞–≤–ª–µ–Ω–æ:
```yaml
environment:
  - LOGS_DOWNLOAD_TOKEN=${LOGS_DOWNLOAD_TOKEN}
```

–≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ –±–µ—Ä–µ—Ç—Å—è –∏–∑ `.env` —Ñ–∞–π–ª–∞ –∏–ª–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –æ–∫—Ä—É–∂–µ–Ω–∏—è.

## –ü–æ–ª–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

1. **–ù–∞ —Å–µ—Ä–≤–µ—Ä–µ** –¥–æ–±–∞–≤—å—Ç–µ –≤ `.env`:
   ```bash
   LOGS_DOWNLOAD_TOKEN=666_log_download_passkey_666
   ```

2. **–ù–∞ —Å–µ—Ä–≤–µ—Ä–µ** –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã:
   ```bash
   cd ~/realty-system
   docker-compose down
   docker-compose up -d
   ```

3. **–ù–∞ –ª–æ–∫–∞–ª—å–Ω–æ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ** —Å–æ–∑–¥–∞–π—Ç–µ `.api_token`:
   ```
   666_log_download_passkey_666
   ```

4. **–ù–∞ –ª–æ–∫–∞–ª—å–Ω–æ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ** –∑–∞–ø—É—Å—Ç–∏—Ç–µ:
   ```bash
   python download_logs.py http://31.130.144.220
   ```

–ì–æ—Ç–æ–≤–æ! üéâ


